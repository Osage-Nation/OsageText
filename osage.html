<html>
<head>
  <meta charset="utf-8"/>
  <link rel="stylesheet" type="text/css" href="/css/fonts.css">

  <title>Testing Osage Unicode and conversion</title>

  <script src="/js/utils.js"></script>
  <script src="/js/osageConverter.js"></script>
  <script src="/js/osage_utils.js"></script>
  <script>

  // Check text encoding.
  function convertToUnicode(oldIn, newOut) {
    var input_text = document.getElementById(oldIn);
    var output_text = document.getElementById(newOut);
    var hex_output_id = "new_hex";

    // Call Unicode converter.
    // Get flag indicating lower case conversion
    var convertToLower = document.getElementById("DoLower").checked;
    var uText = oldOsageToUnicode(input_text.value, convertToLower);
    output_text.innerHTML = uText;

    updateHex(newOut, hex_output_id);
  }

  // When an area is changed, set the hex characters, too.
  function updateHex(inArea, outArea) {
    var inText = document.getElementById(inArea).value;
    var hex_output = document.getElementById(outArea);
    var hexString = charsToHexString(inText);
    if (hex_output != null) {
      hex_output.innerHTML = hexString;
    }
  }

  // Fills the input with all the characters in the old Osage range.
  function fillWithOldOsage(target, hex_target) {
    var output_text = document.getElementById(target);
  var outputString = "";
  var codePt;
  for (codePt = 0; codePt < 1; codePt++) {
                            }
  for (codePt = 0xf021; codePt < 0xf046; codePt++) {
                                 outputString += String.fromCodePoint(codePt);
                                       }
    outputString += String.fromCodePoint(0x000a);

    for (codePt = 0xf048; codePt < 0xf051; codePt++) {
      outputString += String.fromCodePoint(codePt);
    }
    for (codePt = 0xf053; codePt < 0xf062; codePt++) {
      outputString += String.fromCodePoint(codePt);
    }
    outputString += String.fromCodePoint(0xf065);
    outputString += String.fromCodePoint(0xf06f);
    outputString += String.fromCodePoint(0xf07b);
    outputString += String.fromCodePoint(0xf07c);
    outputString += String.fromCodePoint(0xf07d);
    outputString += String.fromCodePoint(0xf07e);
    outputString += String.fromCodePoint(0xf0b6);

    output_text.innerHTML = outputString;

    updateHex(target, hex_target);
  }

  function init() {
    // Fill in if needed.
  }

  </script>
  </head>

  <body onload="init()">
    <h2>Old Osage font data</h2>
    <textarea class="oldOsageText" id="old_font_input_text"
              cols="60" rows="3"
              onchange="updateHex('old_font_input_text', 'old_hex');"></textarea>
    <br />

    <input type="button" value="All old chars"
           onclick="fillWithOldOsage('old_font_input_text', 'old_hex')">
    <input type="button" value="Convert to Unicode"
           onclick="convertToUnicode('old_font_input_text',
                    'Unicode_font_output_text');">
    <input type="checkbox" name="lowerCase" id="DoLower">To lower?<br />

    <br/>
    <p> Note that two characters 0xf03b and 0xf05c are no longer used. The underlined characters now are written with a central dot.
    <textarea id="old_hex" cols="80" rows="2"></textarea>
    <br />
    <input type="button"
           onclick="convertToText('old_hex', 'old_font_input_text');"
           value="Convert hex" />

    <h2>Unicode Osage font data</h2>
    <textarea class="unicodeOsageText" id="Unicode_font_output_text"
              cols="50" rows="3"></textarea>
    <br />
    <input type="button"
           onclick="fillWithUnicodeOsage('Unicode_font_output_text',
                    'new_hex');"
           value="All new chars" />
    <input type="button"
           onclick="fillWithUnicodeOsageMacron('Unicode_font_output_text',
                    'new_hex');"
           value="Characters with macron" />
    <input type="button"
           onclick="fillWithUnicodeOsageDotted('Unicode_font_output_text',
                    'new_hex');"
           value="Characters with dot above right" />

<br />
    <textarea id="new_hex" col="80" rows="3"></textarea>
    <br />
    <input type="button"
           onclick="convertToText('new_hex', 'Unicode_font_output_text')"
           value="Convert hex" />
    <br />Hex input may be in either UTF-16 or UTF-32 hex format.

      <h2>Latin Osage data</h2>
    <textarea class="latinOsageText" id="latin_input_text"
              cols="60" rows="3"
              onchange="updateHex('latin_input_text', 'latin_hex');"></textarea>
    <br />

    <input type="button" value="All old chars"
           onclick="fillWithLatinOsage('latin_input_text', 'old_hex')">
    <input type="button" value="Convert to Unicode"
           onclick="convertLatinToUnicode('latin_input_text',
                    'Unicode_font_output_text');">
    <input type="button" value="Convert to old Osage"
           onclick="convertLatinToOldOsage('latin_input_text',
                    'old_font_input_text');">
    <input type="checkbox" name="lowerCase" id="DoLower2">To lower?<br />

    <br/>
</body>
</html>
